# stack

스택은 컴퓨터 과학에서 매우 중요한 자료구조로, 특히 메모리 관리와 관련하여 중요한 역할을 합니다. 스택은 주로 프로그램의 실행 과정에서 함수 호출을 관리하기 위해 사용됩니다. 이를 스택 메모리(stack memory) 또는 호출 스택(call stack)이라고도 합니다.

### 스택과 메모리 관리

- 함수 호출과 관련된 데이터를 저장합니다. 여기에는 함수의 매개변수, 지역 변수, 반환 주소 등이 포함됩니다.
- 함수가 반환될 때, 해당 호출 프레임이 스택에서 제거됩니다.
- 스택은 고정된 크기를 가지며, 스택 오버플로(stack overflow)가 발생할 수 있습니다. 이는 재귀 호출이 너무 깊거나 너무 많은 함수 호출이 발생했을 때 일어납니다.
- 함수가 호출되면, 그 함수의 호출 프레임(call frame) 또는 활성 레코드(activation record)가 스택에 쌓입니다.

### 호출 스택(Call Stack)의 동작

1. **함수 호출:**
    - 함수를 호출하면, 그 함수의 호출 프레임이 스택의 맨 위에 추가됩니다.
    - 이 호출 프레임에는 함수의 매개변수, 지역 변수, 반환 주소 등이 포함됩니다.
2. **함수 실행:**
    - 현재 함수의 코드가 실행되며, 이 과정에서 스택에 저장된 매개변수와 지역 변수가 사용됩니다.
3. **함수 반환:**
    - 함수가 종료되면, 호출 프레임이 스택에서 제거됩니다.
    - 이전 함수로 돌아가기 위해 반환 주소가 사용됩니다.

이 과정은 재귀 함수 호출에서도 동일하게 적용됩니다. 재귀 호출이 깊어지면, 각 재귀 호출마다 새로운 호출 프레임이 스택에 쌓입니다.

### 예제: 재귀 함수와 스택

python

``` python
def factorial(n):
    if n == 0:
        return 1
    else:
        return n * factorial(n - 1)

print(factorial(5))  # 120
```
이 예제에서 `factorial` 함수는 재귀적으로 자신을 호출합니다. `factorial(5)`를 호출하면 다음과 같은 스택 호출이 발생합니다:

1. `factorial(5)` 호출: 스택에 `factorial(5)` 프레임 추가
2. `factorial(4)` 호출: 스택에 `factorial(4)` 프레임 추가
3. `factorial(3)` 호출: 스택에 `factorial(3)` 프레임 추가
4. `factorial(2)` 호출: 스택에 `factorial(2)` 프레임 추가
5. `factorial(1)` 호출: 스택에 `factorial(1)` 프레임 추가
6. `factorial(0)` 호출: 스택에 `factorial(0)` 프레임 추가

이후 `factorial(0)`이 1을 반환하면서 각 호출이 반환되고, 스택에서 하나씩 프레임이 제거됩니다.

### 스택 오버플로(Stack Overflow)

스택 오버플로는 스택이 가득 차서 더 이상 데이터를 추가할 수 없을 때 발생합니다. 이는 보통 무한 재귀 호출이나 매우 깊은 재귀 호출로 인해 발생합니다. 예를 들어:

``` python
def infinite_recursion():
	return infinite_recursion()

infinite_recursion()  # 스택 오버플로 발생
```

이 코드는 무한 재귀 호출을 유발하며, 결국 스택 오버플로가 발생합니다.

### 요약

- **스택**은 "후입선출(LIFO)" 구조의 자료구조로, 함수 호출과 관련된 메모리 관리에서 중요한 역할을 합니다.
- **호출 스택**은 함수 호출 시 호출 프레임을 쌓고, 함수 반환 시 제거하는 방식으로 함수 호출을 관리합니다.
- **스택 오버플로**는 스택이 넘칠 때 발생하며, 주로 무한 재귀 호출 등으로 인해 발생합니다.

스택은 함수 호출 관리 외에도 다양한 알고리즘과 문제 해결에서 핵심적으로 사용되는 중요한 자료구조입니다.	